package com.home.commonBase.data.login;
import com.home.commonBase.constlist.generate.BaseDataType;
import com.home.commonBase.data.activity.ActivityServerData;
import com.home.commonBase.data.func.FuncToolData;
import com.home.commonBase.data.social.rank.RankToolData;
import com.home.shine.bytes.BytesReadStream;
import com.home.shine.bytes.BytesWriteStream;
import com.home.shine.data.BaseData;
import com.home.shine.support.DataWriter;
import com.home.shine.support.collection.IntObjectMap;
import com.home.shine.support.collection.SSet;
import com.home.shine.support.pool.DataPool;

/** 游戏服登录中心服返回数据(generated by shine) */
public class GameLoginData extends BaseData
{
	/** 服务器偏移时间 */
	public long serverOffTime;
	
	/** 插件数据组(key1:funcToolType,key2:funcID) */
	public IntObjectMap<IntObjectMap<FuncToolData>> funcTools;
	
	/** 数据类型ID */
	public static final int dataID=BaseDataType.GameLogin;
	
	/** 活动数据组 */
	public IntObjectMap<ActivityServerData> activities;
	
	/** 服务器出生码 */
	public int serverBornCode;
	
	/** 中心服运行序号 */
	public int serverRunIndex;
	
	public GameLoginData()
	{
		_dataID=BaseDataType.GameLogin;
	}
	
	/** 获取数据类名 */
	@Override
	public String getDataClassName()
	{
		return "GameLoginData";
	}
	
	/** 读取字节流(完整版) */
	@Override
	protected void toReadBytesFull(BytesReadStream stream)
	{
		stream.startReadObj();
		
		this.serverOffTime=stream.readLong();
		
		if(stream.readBoolean())
		{
			int funcToolsLen=stream.readLen();
			if(this.funcTools!=null)
			{
				this.funcTools.clear();
				this.funcTools.ensureCapacity(funcToolsLen);
			}
			else
			{
				this.funcTools=new IntObjectMap<IntObjectMap<FuncToolData>>(IntObjectMap[]::new,funcToolsLen);
			}
			
			IntObjectMap<IntObjectMap<FuncToolData>> funcToolsT=this.funcTools;
			for(int funcToolsI=funcToolsLen-1;funcToolsI>=0;--funcToolsI)
			{
				int funcToolsK;
				IntObjectMap<FuncToolData> funcToolsV;
				funcToolsK=stream.readInt();
				
				if(stream.readBoolean())
				{
					int funcToolsVLen=stream.readLen();
					funcToolsV=new IntObjectMap<FuncToolData>(FuncToolData[]::new,funcToolsVLen);
					IntObjectMap<FuncToolData> funcToolsVT=funcToolsV;
					for(int funcToolsVI=funcToolsVLen-1;funcToolsVI>=0;--funcToolsVI)
					{
						int funcToolsVK;
						FuncToolData funcToolsVV;
						funcToolsVK=stream.readInt();
						
						if(stream.readBoolean())
						{
							BaseData funcToolsVVT=stream.readDataFullNotNull();
							if(funcToolsVVT!=null)
							{
								if(funcToolsVVT instanceof FuncToolData)
								{
									funcToolsVV=(FuncToolData)funcToolsVVT;
								}
								else
								{
									funcToolsVV=new FuncToolData();
									if(!(funcToolsVVT.getClass().isAssignableFrom(FuncToolData.class)))
									{
										stream.throwTypeReadError(FuncToolData.class,funcToolsVVT.getClass());
									}
									funcToolsVV.shadowCopy(funcToolsVVT);
								}
							}
							else
							{
								funcToolsVV=null;
							}
						}
						else
						{
							funcToolsVV=null;
						}
						
						funcToolsVT.put(funcToolsVK,funcToolsVV);
					}
				}
				else
				{
					funcToolsV=null;
				}
				
				funcToolsT.put(funcToolsK,funcToolsV);
			}
		}
		else
		{
			this.funcTools=null;
		}
		
		int activitiesLen=stream.readLen();
		if(this.activities!=null)
		{
			this.activities.clear();
			this.activities.ensureCapacity(activitiesLen);
		}
		else
		{
			this.activities=new IntObjectMap<ActivityServerData>(ActivityServerData[]::new,activitiesLen);
		}
		
		IntObjectMap<ActivityServerData> activitiesT=this.activities;
		for(int activitiesI=activitiesLen-1;activitiesI>=0;--activitiesI)
		{
			ActivityServerData activitiesV;
			BaseData activitiesVT=stream.readDataFullNotNull();
			if(activitiesVT!=null)
			{
				if(activitiesVT instanceof ActivityServerData)
				{
					activitiesV=(ActivityServerData)activitiesVT;
				}
				else
				{
					activitiesV=new ActivityServerData();
					if(!(activitiesVT.getClass().isAssignableFrom(ActivityServerData.class)))
					{
						stream.throwTypeReadError(ActivityServerData.class,activitiesVT.getClass());
					}
					activitiesV.shadowCopy(activitiesVT);
				}
			}
			else
			{
				activitiesV=null;
			}
			
			activitiesT.put(activitiesV.id,activitiesV);
		}
		
		this.serverBornCode=stream.readInt();
		
		this.serverRunIndex=stream.readInt();
		
		stream.endReadObj();
	}
	
	/** 写入字节流(完整版) */
	@Override
	protected void toWriteBytesFull(BytesWriteStream stream)
	{
		stream.startWriteObj();
		
		stream.writeLong(this.serverOffTime);
		
		if(this.funcTools!=null)
		{
			stream.writeBoolean(true);
			stream.writeLen(this.funcTools.size());
			if(!this.funcTools.isEmpty())
			{
				int funcToolsKFreeValue=this.funcTools.getFreeValue();
				int[] funcToolsKKeys=this.funcTools.getKeys();
				Object[] funcToolsVValues=this.funcTools.getValues();
				for(int funcToolsKI=funcToolsKKeys.length-1;funcToolsKI>=0;--funcToolsKI)
				{
					int funcToolsK=funcToolsKKeys[funcToolsKI];
					if(funcToolsK!=funcToolsKFreeValue)
					{
						IntObjectMap<FuncToolData> funcToolsV=(IntObjectMap<FuncToolData>)funcToolsVValues[funcToolsKI];
						stream.writeInt(funcToolsK);
						
						if(funcToolsV!=null)
						{
							stream.writeBoolean(true);
							stream.writeLen(funcToolsV.size());
							if(!funcToolsV.isEmpty())
							{
								int funcToolsVKFreeValue=funcToolsV.getFreeValue();
								int[] funcToolsVKKeys=funcToolsV.getKeys();
								Object[] funcToolsVVValues=funcToolsV.getValues();
								for(int funcToolsVKI=funcToolsVKKeys.length-1;funcToolsVKI>=0;--funcToolsVKI)
								{
									int funcToolsVK=funcToolsVKKeys[funcToolsVKI];
									if(funcToolsVK!=funcToolsVKFreeValue)
									{
										FuncToolData funcToolsVV=(FuncToolData)funcToolsVVValues[funcToolsVKI];
										stream.writeInt(funcToolsVK);
										
										if(funcToolsVV!=null)
										{
											stream.writeBoolean(true);
											stream.writeDataFullNotNull(funcToolsVV);
										}
										else
										{
											stream.writeBoolean(false);
										}
										
									}
								}
							}
						}
						else
						{
							stream.writeBoolean(false);
						}
						
					}
				}
			}
		}
		else
		{
			stream.writeBoolean(false);
		}
		
		if(this.activities!=null)
		{
			stream.writeLen(this.activities.size());
			if(!this.activities.isEmpty())
			{
				Object[] activitiesVValues=this.activities.getValues();
				for(int activitiesVI=activitiesVValues.length-1;activitiesVI>=0;--activitiesVI)
				{
					if(activitiesVValues[activitiesVI]!=null)
					{
						ActivityServerData activitiesV=(ActivityServerData)activitiesVValues[activitiesVI];
						if(activitiesV!=null)
						{
							stream.writeDataFullNotNull(activitiesV);
						}
						else
						{
							nullObjError("activitiesV");
						}
						
					}
				}
			}
		}
		else
		{
			nullObjError("activities");
		}
		
		stream.writeInt(this.serverBornCode);
		
		stream.writeInt(this.serverRunIndex);
		
		stream.endWriteObj();
	}
	
	/** 读取字节流(简版) */
	@Override
	protected void toReadBytesSimple(BytesReadStream stream)
	{
		this.serverOffTime=stream.readLong();
		
		if(stream.readBoolean())
		{
			int funcToolsLen=stream.readLen();
			if(this.funcTools!=null)
			{
				this.funcTools.clear();
				this.funcTools.ensureCapacity(funcToolsLen);
			}
			else
			{
				this.funcTools=new IntObjectMap<IntObjectMap<FuncToolData>>(IntObjectMap[]::new,funcToolsLen);
			}
			
			IntObjectMap<IntObjectMap<FuncToolData>> funcToolsT=this.funcTools;
			for(int funcToolsI=funcToolsLen-1;funcToolsI>=0;--funcToolsI)
			{
				int funcToolsK;
				IntObjectMap<FuncToolData> funcToolsV;
				funcToolsK=stream.readInt();
				
				if(stream.readBoolean())
				{
					int funcToolsVLen=stream.readLen();
					funcToolsV=new IntObjectMap<FuncToolData>(FuncToolData[]::new,funcToolsVLen);
					IntObjectMap<FuncToolData> funcToolsVT=funcToolsV;
					for(int funcToolsVI=funcToolsVLen-1;funcToolsVI>=0;--funcToolsVI)
					{
						int funcToolsVK;
						FuncToolData funcToolsVV;
						funcToolsVK=stream.readInt();
						
						if(stream.readBoolean())
						{
							funcToolsVV=(FuncToolData)stream.readDataSimpleNotNull();
						}
						else
						{
							funcToolsVV=null;
						}
						
						funcToolsVT.put(funcToolsVK,funcToolsVV);
					}
				}
				else
				{
					funcToolsV=null;
				}
				
				funcToolsT.put(funcToolsK,funcToolsV);
			}
		}
		else
		{
			this.funcTools=null;
		}
		
		int activitiesLen=stream.readLen();
		if(this.activities!=null)
		{
			this.activities.clear();
			this.activities.ensureCapacity(activitiesLen);
		}
		else
		{
			this.activities=new IntObjectMap<ActivityServerData>(ActivityServerData[]::new,activitiesLen);
		}
		
		IntObjectMap<ActivityServerData> activitiesT=this.activities;
		for(int activitiesI=activitiesLen-1;activitiesI>=0;--activitiesI)
		{
			ActivityServerData activitiesV;
			activitiesV=(ActivityServerData)stream.readDataSimpleNotNull();
			
			activitiesT.put(activitiesV.id,activitiesV);
		}
		
		this.serverBornCode=stream.readInt();
		
		this.serverRunIndex=stream.readInt();
		
	}
	
	/** 写入字节流(简版) */
	@Override
	protected void toWriteBytesSimple(BytesWriteStream stream)
	{
		stream.writeLong(this.serverOffTime);
		
		if(this.funcTools!=null)
		{
			stream.writeBoolean(true);
			stream.writeLen(this.funcTools.size());
			if(!this.funcTools.isEmpty())
			{
				int funcToolsKFreeValue=this.funcTools.getFreeValue();
				int[] funcToolsKKeys=this.funcTools.getKeys();
				Object[] funcToolsVValues=this.funcTools.getValues();
				for(int funcToolsKI=funcToolsKKeys.length-1;funcToolsKI>=0;--funcToolsKI)
				{
					int funcToolsK=funcToolsKKeys[funcToolsKI];
					if(funcToolsK!=funcToolsKFreeValue)
					{
						IntObjectMap<FuncToolData> funcToolsV=(IntObjectMap<FuncToolData>)funcToolsVValues[funcToolsKI];
						stream.writeInt(funcToolsK);
						
						if(funcToolsV!=null)
						{
							stream.writeBoolean(true);
							stream.writeLen(funcToolsV.size());
							if(!funcToolsV.isEmpty())
							{
								int funcToolsVKFreeValue=funcToolsV.getFreeValue();
								int[] funcToolsVKKeys=funcToolsV.getKeys();
								Object[] funcToolsVVValues=funcToolsV.getValues();
								for(int funcToolsVKI=funcToolsVKKeys.length-1;funcToolsVKI>=0;--funcToolsVKI)
								{
									int funcToolsVK=funcToolsVKKeys[funcToolsVKI];
									if(funcToolsVK!=funcToolsVKFreeValue)
									{
										FuncToolData funcToolsVV=(FuncToolData)funcToolsVVValues[funcToolsVKI];
										stream.writeInt(funcToolsVK);
										
										if(funcToolsVV!=null)
										{
											stream.writeBoolean(true);
											stream.writeDataSimpleNotNull(funcToolsVV);
										}
										else
										{
											stream.writeBoolean(false);
										}
										
									}
								}
							}
						}
						else
						{
							stream.writeBoolean(false);
						}
						
					}
				}
			}
		}
		else
		{
			stream.writeBoolean(false);
		}
		
		if(this.activities!=null)
		{
			stream.writeLen(this.activities.size());
			if(!this.activities.isEmpty())
			{
				Object[] activitiesVValues=this.activities.getValues();
				for(int activitiesVI=activitiesVValues.length-1;activitiesVI>=0;--activitiesVI)
				{
					if(activitiesVValues[activitiesVI]!=null)
					{
						ActivityServerData activitiesV=(ActivityServerData)activitiesVValues[activitiesVI];
						if(activitiesV!=null)
						{
							stream.writeDataSimpleNotNull(activitiesV);
						}
						else
						{
							nullObjError("activitiesV");
						}
						
					}
				}
			}
		}
		else
		{
			nullObjError("activities");
		}
		
		stream.writeInt(this.serverBornCode);
		
		stream.writeInt(this.serverRunIndex);
		
	}
	
	/** 复制(潜拷贝) */
	@Override
	protected void toShadowCopy(BaseData data)
	{
		if(!(data instanceof GameLoginData))
			return;
		
		GameLoginData mData=(GameLoginData)data;
		
		this.serverOffTime=mData.serverOffTime;
		this.funcTools=mData.funcTools;
		this.activities=mData.activities;
		this.serverBornCode=mData.serverBornCode;
		this.serverRunIndex=mData.serverRunIndex;
	}
	
	/** 复制(深拷贝) */
	@Override
	protected void toCopy(BaseData data)
	{
		if(!(data instanceof GameLoginData))
			return;
		
		GameLoginData mData=(GameLoginData)data;
		
		this.serverOffTime=mData.serverOffTime;
		
		if(mData.funcTools!=null)
		{
			if(this.funcTools!=null)
			{
				this.funcTools.clear();
				this.funcTools.ensureCapacity(mData.funcTools.size());
			}
			else
			{
				this.funcTools=new IntObjectMap<IntObjectMap<FuncToolData>>(IntObjectMap[]::new,mData.funcTools.size());
			}
			
			IntObjectMap<IntObjectMap<FuncToolData>> funcToolsT=this.funcTools;
			if(!mData.funcTools.isEmpty())
			{
				int funcToolsKFreeValue=mData.funcTools.getFreeValue();
				int[] funcToolsKKeys=mData.funcTools.getKeys();
				Object[] funcToolsVValues=mData.funcTools.getValues();
				for(int funcToolsKI=funcToolsKKeys.length-1;funcToolsKI>=0;--funcToolsKI)
				{
					int funcToolsK=funcToolsKKeys[funcToolsKI];
					if(funcToolsK!=funcToolsKFreeValue)
					{
						IntObjectMap<FuncToolData> funcToolsV=(IntObjectMap<FuncToolData>)funcToolsVValues[funcToolsKI];
						int funcToolsW;
						IntObjectMap<FuncToolData> funcToolsU;
						funcToolsW=funcToolsK;
						
						if(funcToolsV!=null)
						{
							funcToolsU=new IntObjectMap<FuncToolData>(FuncToolData[]::new,funcToolsV.size());
							IntObjectMap<FuncToolData> funcToolsUT=funcToolsU;
							if(!funcToolsV.isEmpty())
							{
								int funcToolsUKFreeValue=funcToolsV.getFreeValue();
								int[] funcToolsUKKeys=funcToolsV.getKeys();
								Object[] funcToolsUVValues=funcToolsV.getValues();
								for(int funcToolsUKI=funcToolsUKKeys.length-1;funcToolsUKI>=0;--funcToolsUKI)
								{
									int funcToolsUK=funcToolsUKKeys[funcToolsUKI];
									if(funcToolsUK!=funcToolsUKFreeValue)
									{
										FuncToolData funcToolsUV=(FuncToolData)funcToolsUVValues[funcToolsUKI];
										int funcToolsUW;
										FuncToolData funcToolsUU;
										funcToolsUW=funcToolsUK;
										
										if(funcToolsUV!=null)
										{
											funcToolsUU=(FuncToolData)funcToolsUV.clone();
										}
										else
										{
											funcToolsUU=null;
										}
										
										funcToolsUT.put(funcToolsUW,funcToolsUU);
									}
								}
							}
						}
						else
						{
							funcToolsU=null;
						}
						
						funcToolsT.put(funcToolsW,funcToolsU);
					}
				}
			}
		}
		else
		{
			this.funcTools=null;
		}
		
		if(mData.activities!=null)
		{
			if(this.activities!=null)
			{
				this.activities.clear();
				this.activities.ensureCapacity(mData.activities.size());
			}
			else
			{
				this.activities=new IntObjectMap<ActivityServerData>(ActivityServerData[]::new,mData.activities.size());
			}
			
			IntObjectMap<ActivityServerData> activitiesT=this.activities;
			if(!mData.activities.isEmpty())
			{
				Object[] activitiesVValues=mData.activities.getValues();
				for(int activitiesVI=activitiesVValues.length-1;activitiesVI>=0;--activitiesVI)
				{
					if(activitiesVValues[activitiesVI]!=null)
					{
						ActivityServerData activitiesV=(ActivityServerData)activitiesVValues[activitiesVI];
						ActivityServerData activitiesU;
						if(activitiesV!=null)
						{
							activitiesU=(ActivityServerData)activitiesV.clone();
						}
						else
						{
							activitiesU=null;
							nullObjError("activitiesU");
						}
						
						activitiesT.put(activitiesU.id,activitiesU);
					}
				}
			}
		}
		else
		{
			this.activities=null;
			nullObjError("activities");
		}
		
		this.serverBornCode=mData.serverBornCode;
		
		this.serverRunIndex=mData.serverRunIndex;
		
	}
	
	/** 是否数据一致 */
	@Override
	protected boolean toDataEquals(BaseData data)
	{
		GameLoginData mData=(GameLoginData)data;
		if(this.serverOffTime!=mData.serverOffTime)
			return false;
		
		if(mData.funcTools!=null)
		{
			if(this.funcTools==null)
				return false;
			if(this.funcTools.size()!=mData.funcTools.size())
				return false;
			IntObjectMap<IntObjectMap<FuncToolData>> funcToolsR=mData.funcTools;
			if(!this.funcTools.isEmpty())
			{
				int funcToolsKFreeValue=this.funcTools.getFreeValue();
				int[] funcToolsKKeys=this.funcTools.getKeys();
				Object[] funcToolsVValues=this.funcTools.getValues();
				for(int funcToolsKI=funcToolsKKeys.length-1;funcToolsKI>=0;--funcToolsKI)
				{
					int funcToolsK=funcToolsKKeys[funcToolsKI];
					if(funcToolsK!=funcToolsKFreeValue)
					{
						IntObjectMap<FuncToolData> funcToolsV=(IntObjectMap<FuncToolData>)funcToolsVValues[funcToolsKI];
						IntObjectMap<FuncToolData> funcToolsU=funcToolsR.get(funcToolsK);
						if(funcToolsU!=null)
						{
							if(funcToolsV==null)
								return false;
							if(funcToolsV.size()!=funcToolsU.size())
								return false;
							IntObjectMap<FuncToolData> funcToolsVR=funcToolsU;
							if(!funcToolsV.isEmpty())
							{
								int funcToolsVKFreeValue=funcToolsV.getFreeValue();
								int[] funcToolsVKKeys=funcToolsV.getKeys();
								Object[] funcToolsVVValues=funcToolsV.getValues();
								for(int funcToolsVKI=funcToolsVKKeys.length-1;funcToolsVKI>=0;--funcToolsVKI)
								{
									int funcToolsVK=funcToolsVKKeys[funcToolsVKI];
									if(funcToolsVK!=funcToolsVKFreeValue)
									{
										FuncToolData funcToolsVV=(FuncToolData)funcToolsVVValues[funcToolsVKI];
										FuncToolData funcToolsVU=funcToolsVR.get(funcToolsVK);
										if(funcToolsVU!=null)
										{
											if(funcToolsVV==null)
												return false;
											if(!funcToolsVV.dataEquals(funcToolsVU))
												return false;
										}
										else
										{
											if(funcToolsVV!=null)
												return false;
										}
										
									}
								}
							}
						}
						else
						{
							if(funcToolsV!=null)
								return false;
						}
						
					}
				}
			}
		}
		else
		{
			if(this.funcTools!=null)
				return false;
		}
		
		if(mData.activities!=null)
		{
			if(this.activities==null)
				return false;
			if(this.activities.size()!=mData.activities.size())
				return false;
			IntObjectMap<ActivityServerData> activitiesR=mData.activities;
			if(!this.activities.isEmpty())
			{
				int activitiesKFreeValue=this.activities.getFreeValue();
				int[] activitiesKKeys=this.activities.getKeys();
				Object[] activitiesVValues=this.activities.getValues();
				for(int activitiesKI=activitiesKKeys.length-1;activitiesKI>=0;--activitiesKI)
				{
					int activitiesK=activitiesKKeys[activitiesKI];
					if(activitiesK!=activitiesKFreeValue)
					{
						ActivityServerData activitiesV=(ActivityServerData)activitiesVValues[activitiesKI];
						ActivityServerData activitiesU=activitiesR.get(activitiesK);
						if(activitiesU!=null)
						{
							if(activitiesV==null)
								return false;
							if(!activitiesV.dataEquals(activitiesU))
								return false;
						}
						else
						{
							if(activitiesV!=null)
								return false;
						}
						
					}
				}
			}
		}
		else
		{
			if(this.activities!=null)
				return false;
		}
		
		if(this.serverBornCode!=mData.serverBornCode)
			return false;
		
		if(this.serverRunIndex!=mData.serverRunIndex)
			return false;
		
		return true;
	}
	
	/** 转文本输出 */
	@Override
	protected void toWriteDataString(DataWriter writer)
	{
		writer.writeTabs();
		writer.sb.append("serverOffTime");
		writer.sb.append(':');
		writer.sb.append(this.serverOffTime);
		
		writer.writeEnter();
		writer.writeTabs();
		writer.sb.append("funcTools");
		writer.sb.append(':');
		writer.sb.append("Map<int,IntObjectMap<FuncToolData>>");
		if(this.funcTools!=null)
		{
			writer.sb.append('(');
			writer.sb.append(this.funcTools.size());
			writer.sb.append(')');
			writer.writeEnter();
			writer.writeLeftBrace();
			if(!this.funcTools.isEmpty())
			{
				int funcToolsKFreeValue=this.funcTools.getFreeValue();
				int[] funcToolsKKeys=this.funcTools.getKeys();
				Object[] funcToolsVValues=this.funcTools.getValues();
				for(int funcToolsKI=funcToolsKKeys.length-1;funcToolsKI>=0;--funcToolsKI)
				{
					int funcToolsK=funcToolsKKeys[funcToolsKI];
					if(funcToolsK!=funcToolsKFreeValue)
					{
						IntObjectMap<FuncToolData> funcToolsV=(IntObjectMap<FuncToolData>)funcToolsVValues[funcToolsKI];
						writer.writeTabs();
						writer.sb.append(funcToolsK);
						
						writer.sb.append(':');
						writer.sb.append("Map<int,FuncToolData>");
						if(funcToolsV!=null)
						{
							writer.sb.append('(');
							writer.sb.append(funcToolsV.size());
							writer.sb.append(')');
							writer.writeEnter();
							writer.writeLeftBrace();
							if(!funcToolsV.isEmpty())
							{
								int funcToolsVKFreeValue=funcToolsV.getFreeValue();
								int[] funcToolsVKKeys=funcToolsV.getKeys();
								Object[] funcToolsVVValues=funcToolsV.getValues();
								for(int funcToolsVKI=funcToolsVKKeys.length-1;funcToolsVKI>=0;--funcToolsVKI)
								{
									int funcToolsVK=funcToolsVKKeys[funcToolsVKI];
									if(funcToolsVK!=funcToolsVKFreeValue)
									{
										FuncToolData funcToolsVV=(FuncToolData)funcToolsVVValues[funcToolsVKI];
										writer.writeTabs();
										writer.sb.append(funcToolsVK);
										
										writer.sb.append(':');
										if(funcToolsVV!=null)
										{
											funcToolsVV.writeDataString(writer);
										}
										else
										{
											writer.sb.append("FuncToolData=null");
										}
										
										writer.writeEnter();
									}
								}
							}
							writer.writeRightBrace();
						}
						else
						{
							writer.sb.append("=null");
						}
						
						writer.writeEnter();
					}
				}
			}
			writer.writeRightBrace();
		}
		else
		{
			writer.sb.append("=null");
		}
		
		writer.writeEnter();
		writer.writeTabs();
		writer.sb.append("activities");
		writer.sb.append(':');
		writer.sb.append("Map<int,ActivityServerData>");
		if(this.activities!=null)
		{
			writer.sb.append('(');
			writer.sb.append(this.activities.size());
			writer.sb.append(')');
			writer.writeEnter();
			writer.writeLeftBrace();
			if(!this.activities.isEmpty())
			{
				int activitiesKFreeValue=this.activities.getFreeValue();
				int[] activitiesKKeys=this.activities.getKeys();
				Object[] activitiesVValues=this.activities.getValues();
				for(int activitiesKI=activitiesKKeys.length-1;activitiesKI>=0;--activitiesKI)
				{
					int activitiesK=activitiesKKeys[activitiesKI];
					if(activitiesK!=activitiesKFreeValue)
					{
						ActivityServerData activitiesV=(ActivityServerData)activitiesVValues[activitiesKI];
						writer.writeTabs();
						writer.sb.append(activitiesK);
						
						writer.sb.append(':');
						if(activitiesV!=null)
						{
							activitiesV.writeDataString(writer);
						}
						else
						{
							writer.sb.append("ActivityServerData=null");
						}
						
						writer.writeEnter();
					}
				}
			}
			writer.writeRightBrace();
		}
		else
		{
			writer.sb.append("=null");
		}
		
		writer.writeEnter();
		writer.writeTabs();
		writer.sb.append("serverBornCode");
		writer.sb.append(':');
		writer.sb.append(this.serverBornCode);
		
		writer.writeEnter();
		writer.writeTabs();
		writer.sb.append("serverRunIndex");
		writer.sb.append(':');
		writer.sb.append(this.serverRunIndex);
		
		writer.writeEnter();
	}
	
	/** 初始化初值 */
	@Override
	public void initDefault()
	{
		this.activities=new IntObjectMap<ActivityServerData>(ActivityServerData[]::new);
	}
	
	/** 回池 */
	@Override
	protected void toRelease(DataPool pool)
	{
		this.serverOffTime=0L;
		this.funcTools=null;
		this.activities=null;
		this.serverBornCode=0;
		this.serverRunIndex=0;
	}
	
}
